<!-- Webflow > Site Settings > Custom Code > Footer Code -->
<script>
    (function () {
        const DEV_SCRIPT = 'http://localhost:5173/src/main.tsx';
        const PROD_SCRIPT = 'https://cdn.your-hosting.com/main.js';
        const PROD_STYLE = 'https://cdn.your-hosting.com/main.css';

        const isStaging = window.location.hostname.includes('webflow.io');

        if (isStaging) {
            console.log('ðŸš§ Loading Localhost Script with Preamble...');

            const preamble = document.createElement('script');

            preamble.type = 'module';
            preamble.text = `
                import RefreshRuntime from 'http://localhost:5173/@react-refresh'
                RefreshRuntime.injectIntoGlobalHook(window)
                window.$RefreshReg$ = () => {}
                window.$RefreshSig$ = () => (type) => type
                window.__vite_plugin_react_preamble_installed__ = true
            `;

            document.head.appendChild(preamble);

            const script = document.createElement('script');
            script.type = 'module';
            script.src = DEV_SCRIPT;
            document.body.appendChild(script);
        } else {
            const script = document.createElement('script');
            script.type = 'module';
            script.src = PROD_SCRIPT;
            document.body.appendChild(script);

            const link = document.createElement('link');
            link.rel = 'stylesheet';
            link.href = PROD_STYLE;
            document.head.appendChild(link);
        }
    })();
</script>
